(this["webpackJsonpapp-admin"]=this["webpackJsonpapp-admin"]||[]).push([[0],{129:function(e,t,a){},217:function(e,t,a){e.exports=a(346)},222:function(e,t,a){},226:function(e,t,a){},342:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(222),a(162)),i=a(163),s=a(172),u=a(171),m=a(20),f=a(16),p=a(393),g=(a(129),a(226),a(165)),d=a.n(g),E=a(159),h=a(160),b=a(79),v=(a(130),function(e){if(!e)return"\u041f\u043e\u043b\u0435, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}),S=function(e){if(!e)return"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u0437 \u043d\u0438\u0445"},O=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":e?void 0:"\u041f\u043e\u043b\u0435, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},T=function(e){if(e&&!/^(0|[1-9][0-9]{5,15})$/i.test(e))return"Invalid phone number, must be 10 digits"},N=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},_=a(173),C=a(53),P=a.n(C),k=a(396),j=a(400),x=a(385),y=function(e){var t=e.meta,a=e.children,n=t.touched&&t.error;return r.a.createElement("div",{className:P.a.formControl+" "+(n?P.a.error:"")},r.a.createElement("div",null,a),n&&r.a.createElement("span",{className:P.a.metaError}," ",t.error," "))},w=function(e){var t=e.input,a=e.meta,n=e.children,c=a.touched&&a.error;return r.a.createElement("div",{className:P.a.formControl+" "+(c?P.a.error:"")},r.a.createElement("div",null,r.a.createElement("select",Object.assign({},t,{className:"form-control"}),n)),c&&r.a.createElement("span",{className:P.a.metaError}," ",a.error," "))},A=function(e){var t=e.label,a=e.input,n=e.meta,c=n.touched,l=n.invalid,o=n.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,Object.assign({label:t,placeholder:t,error:c&&l,helperText:c&&o,margin:"normal",fullWidth:!0},a)))},I=function(e){var t=e.label,a=e.input,n=e.meta,c=n.touched,l=n.invalid,o=n.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,Object.assign({label:t,type:"password",placeholder:t,error:c&&l,helperText:c&&o,margin:"normal",fullWidth:!0},a)))},F=function(e){var t=e.input,a=e.label;return r.a.createElement(x.a,Object.assign({control:r.a.createElement(j.a,{value:"checkedA"}),label:a,className:P.a.fullWidth},t))},R=function(e){var t=e.input,a=(e.meta,e.child,Object(_.a)(e,["input","meta","child"]));return r.a.createElement(y,e,"      ",r.a.createElement("input",Object.assign({},t,a)),"    ")},U=Object(h.a)({form:"staff",enableReinitialize:!0})((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-between p-2 top-foter"},r.a.createElement("div",null,e.editorBtn?r.a.createElement("span",{className:"staf_text p-2"}," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c "):r.a.createElement("span",{className:"staf_text p-2"}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 ")),e.error&&r.a.createElement("div",{className:"app-toogle-div-error p-1"},r.a.createElement("span",{className:"app-toggle-icon"},"  ",r.a.createElement("i",{class:"fa fa-ban","aria-hidden":"true"}),"  "),r.a.createElement("span",{className:"app-toggle-error"},"  ",e.error," ")),r.a.createElement("div",null,r.a.createElement("button",{className:"btn app-toggle-close",onClick:function(){e.setToggleHeight(0)}}," \xd7 "))),r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:"row p-2 pl-5 pr-5"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h6",null,"\u0424.\u0418.\u041e"),r.a.createElement(E.a,{type:"text",component:R,className:"form-control",placeholder:"Username",name:"full_name",validate:v}),r.a.createElement("h6",{className:"mt-2"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043d\u043e\u043c\u0435\u0440\u0430"),r.a.createElement(E.a,{type:"tel",component:R,className:"form-control",placeholder:"8 777 456 23 23",name:"phone",validate:v})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h6",null,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),r.a.createElement(E.a,{className:"form-control",name:"position",component:w,validate:S},r.a.createElement("option",{value:""}),["Backend-Developer","Frontend-Developer","Fullstack-Developer","\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"].map((function(e){return r.a.createElement("option",{value:e}," ",e," ")}))),r.a.createElement("h6",{className:"mt-2"},"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441"),r.a.createElement(E.a,{type:"email",component:R,className:"form-control",name:"email",placeholder:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441",validate:v})),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("h6",null,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0414\u043e\u0441\u0442\u0443\u043f\u0430"),r.a.createElement(E.a,{className:"form-control",name:"level",component:w,validate:S},r.a.createElement("option",null),["\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440","\u0421\u0443\u043f\u0435\u0440 \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"].map((function(e){return r.a.createElement("option",{value:e}," ",e," ")}))),r.a.createElement("h6",{className:"mt-2"}," \u041f\u0430\u0440\u043e\u043b\u044c "),r.a.createElement(E.a,{type:"text",component:R,className:"form-control",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",validate:v})),r.a.createElement("div",{className:"col-md-3 mt-4"},e.editorBtn?r.a.createElement("button",{className:"btn btn-primary  btn-block","aria-describedby":"basic-addon1"}," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c "):r.a.createElement("button",{className:"btn btn-primary  btn-block","aria-describedby":"basic-addon1"}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ")))))})),L=r.a.memo((function(e){return r.a.createElement("div",{className:"fixed-bottom foter"},r.a.createElement(d.a,{id:"example-panel",duration:500,height:e.height},r.a.createElement(U,{setToggleHeight:e.setToggleHeight,setEditorBtn:e.setEditorBtn,setShowToggle:e.setShowToggle,onSubmit:function(t){b.a.configure(),e.editorBtn?e.updateStaffThunk(e.initialValues.code,t.full_name,t.phone,t.position,t.email,t.level,t.password,e.currentPage,e.page,e.order,e.signin):e.createStaffThunk(t.full_name,t.phone,t.position,t.email,t.level,t.password,e.currentPage,e.page,e.order,e.signin)},initialValues:e.initialValues,editorBtn:e.editorBtn,height:e.height,showToggle:e.showToggle})))}),(function(e,t){return e.editorBtn===t.editorBtn&&e.height===t.height&&e.initialValues===t.initialValues})),q=a(13),D=a.n(q),B=a(27),H=a(8),G=a(99),z=G.create({baseURL:"https://dashboard-i-con.herokuapp.com/",headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}}),W=function(e,t,a,n){var r={headers:{Authorization:"JWT ".concat(localStorage.getItem("access"))}};return z.get("api/accounts/list?page=".concat(e,"&page_size=").concat(t,"&order=").concat(a,"&sign=").concat(n),r).then((function(e){return e.data}))},V=function(e){return z.get("api/accounts/detail/".concat(e)).then((function(e){return console.log(e.data),e.data}))},J=function(e){var t={headers:{Authorization:"JWT ".concat(localStorage.getItem("access"))}};return z.delete("api/accounts/delete/".concat(e),t)},M=function(e,t,a,n,r,c,l){return fetch("https://dashboard-i-con.herokuapp.com/api/accounts/update/".concat(e),{method:"PUT",body:JSON.stringify({full_name:t,position:n,level:c,phone:a,email:r,password:l}),headers:{"Content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access"))}})},Q=function(e,t,a,n,r,c){return fetch("https://dashboard-i-con.herokuapp.com/api/accounts/create",{method:"POST",body:JSON.stringify({full_name:e,position:a,level:r,phone:t,email:n,password:c}),headers:{"Content-type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access"))}})},Z=function(e,t){var a=JSON.stringify({email:e,password:t});return z.post("api/auth/jwt/create",a).then((function(e){return e.data}))},Y=function(){var e={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}};return z.get("api/auth/users/me",e).then((function(e){return e.data}))},$=function(){var e=JSON.stringify({token:localStorage.getItem("access")});return z.post("api/auth/jwt/verify",e).then((function(e){return e}))},K=function(e,t){var a={headers:{Authorization:"JWT ".concat(localStorage.getItem("access"))}};return z.get("api/accounts/requests?page=".concat(e,"&page_size=").concat(t),a).then((function(e){return e.data}))},X=function(e,t){var a={headers:{Authorization:"JWT ".concat(localStorage.getItem("access"))}},n=JSON.stringify({accept:e,code:t});return z.post("api/accounts/accept",n,a).then((function(e){return e}))},ee=a(35),te={height:0,editorBtn:!1,staffs:[],detailStaff:{},currentPage:1,count:200,page:10,isFetching:!1},ae=function(e){return{type:"SET_TOGGLE_HEIGHT",height:e}},ne=function(e){return{type:"SET_EDITOR_BUTTON",editorBtn:e}},re=function(e){return{type:"SET_DETAIL_STAFF",detailStaff:e}},ce=function(e){return{type:"SET_STAFFS_IS_FETCHING",isFetching:e}},le=function(e,t,a,n){return function(){var r=Object(B.a)(D.a.mark((function r(c){var l;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(ce(!0)),r.next=3,W(e,t,a,n);case 3:l=r.sent,c({type:"SET_TOTAL_COUNT",count:l.count}),c({type:"SET_STAFFS",staffs:l.results}),c(ce(!1));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOGGLE_HEIGHT":return Object(H.a)(Object(H.a)({},e),{},{height:t.height});case"SET_STAFFS":return Object(H.a)(Object(H.a)({},e),{},{staffs:t.staffs});case"SET_TOTAL_COUNT":return Object(H.a)(Object(H.a)({},e),{},{count:t.count});case"SET_CURRENT_PAGE":return Object(H.a)(Object(H.a)({},e),{},{currentPage:t.currentPage});case"SET_EDITOR_BUTTON":return Object(H.a)(Object(H.a)({},e),{},{editorBtn:t.editorBtn});case"SET_DETAIL_STAFF":return Object(H.a)(Object(H.a)({},e),{},{detailStaff:t.detailStaff});case"SET_STAFFS_IS_FETCHING":return Object(H.a)(Object(H.a)({},e),{},{isFetching:t.isFetching});default:return e}},ie=Object(f.b)((function(e){return{height:e.staffPage.height,currentPage:e.staffPage.currentPage,page:e.staffPage.page,editorBtn:e.staffPage.editorBtn,initialValues:{code:e.staffPage.detailStaff.code,full_name:e.staffPage.detailStaff.full_name,position:e.staffPage.detailStaff.position,phone:e.staffPage.detailStaff.phone,email:e.staffPage.detailStaff.email,level:e.staffPage.detailStaff.level}}}),{setToggleHeight:ae,createStaffThunk:function(e,t,a,n,r,c,l,o,i,s){return function(){var u=Object(B.a)(D.a.mark((function u(m){return D.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Q(e,t,a,n,r,c);case 2:"Created"===u.sent.statusText?(m(le(l,o,i,s)),m(Object(ee.a)("staff"))):m(Object(ee.b)("staff",{_error:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0438 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c\u0441\u044f ! ! !"}));case 4:case"end":return u.stop()}}),u)})));return function(e){return u.apply(this,arguments)}}()},updateStaffThunk:function(e,t,a,n,r,c,l,o,i,s,u){return function(){var m=Object(B.a)(D.a.mark((function m(f){return D.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,M(e,t,a,n,r,c,l);case 2:f(le(o,i,s,u));case 3:case"end":return m.stop()}}),m)})));return function(e){return m.apply(this,arguments)}}()},setEditorBtn:ne})((function(e){return r.a.createElement(L,{setToggleHeight:e.setToggleHeight,setEditorBtn:e.setEditorBtn,createStaffThunk:e.createStaffThunk,updateStaffThunk:e.updateStaffThunk,initialValues:e.initialValues,editorBtn:e.editorBtn,height:e.height,currentPage:e.currentPage,page:e.page,order:e.order,signin:e.sign})})),se=a(64),ue=a(388),me=a(401),fe=a(387),pe=a(386),ge=function(e){var t=Object(n.useState)(!1),a=Object(se.a)(t,2),c=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null," ",e.code," "),r.a.createElement("td",null," ",e.full_name),r.a.createElement("td",null," ",e.position," "),r.a.createElement("td",null," ",e.phone," "),r.a.createElement("td",null," ",e.email," "),r.a.createElement("td",null," ",r.a.createElement("i",{class:"material-icons",onClick:function(){e.setEditorBtn(!0),e.setToggleHeight(250),e.getDetailStaffThunk(e.code)}}," mode_edit ")," "),r.a.createElement("td",null," ",r.a.createElement("i",{class:"material-icons app-staff-delete",onClick:function(){l(!0)}},"delete"),"  ")),c&&r.a.createElement(de,{open:c,setOpen:l,count:e.count,page:e.page,setCurrentPage:e.setCurrentPage,deleteStaffThunk:e.deleteStaffThunk,order:e.order,sign:e.sign,currentPage:e.currentPage,code:e.code}))},de=function(e){var t=function(){e.setOpen(!1)};return r.a.createElement("div",null,r.a.createElement(me.a,{open:e.open,onClose:t,"aria-labelledby":"alert-dialog-title"},r.a.createElement(pe.a,{id:"alert-dialog-title"}," ","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442?"," "),r.a.createElement(fe.a,null,r.a.createElement(ue.a,{onClick:t,color:"secondary"},"\u041d\u0435\u0442"),r.a.createElement(ue.a,{onClick:function(){var t,a;e.setOpen(!1),t=e.code,a=e.currentPage,e.count>e.page&&1===e.count%e.page?(e.setCurrentPage(a-1),e.deleteStaffThunk(t,a-1,e.page,e.order,e.sign)):e.deleteStaffThunk(t,a,e.page,e.order,e.sign)},color:"primary"},"\u0414\u0430"))))},Ee=r.a.memo((function(e){var t=Math.ceil(e.count/e.page),a=[],n=e.currentPage-Math.floor(2.5),c=e.currentPage+Math.floor(2.5);n<1&&(n=1,c=5),c>t&&((n=t-4)<1&&(n=1),c=t);for(var l=n;l<=c;l++)a.push(l);return r.a.createElement("nav",{className:"ml-5"},r.a.createElement("ul",{className:"pagination justify-content-end"},r.a.createElement("li",{class:"page-item",onClick:function(){e.setCurrentPage(1),e.getStaffThunk(1,e.page,e.order,e.sign)}},r.a.createElement("a",{class:"page-link",href:"#","aria-label":"Previous"},r.a.createElement("span",{"aria-hidden":"true"},"\xab \u041f\u0415\u0420\u0412\u0410\u042f "))),a.map((function(t){return r.a.createElement("li",{className:"page-item ".concat(e.currentPage===t&&"active"),onClick:function(){e.setCurrentPage(t),e.getStaffThunk(t,e.page,e.order,e.sign)}},r.a.createElement("a",{class:"page-link",href:"#"},"  ",t," "))})),r.a.createElement("li",{class:"page-item",onClick:function(){e.setCurrentPage(t),e.getStaffThunk(t,e.page,e.order,e.sign)}},r.a.createElement("a",{class:"page-link",href:"#","aria-label":"Next"},r.a.createElement("span",{"aria-hidden":"true"},"\u041f\u041e\u0421\u041b\u0415\u0414\u041d\u042f\u042f \xbb")))))}),(function(e,t){return e.page===t.page&&e.count===t.count&&e.currentPage===t.currentPage})),he=a(397),be=(a(342),function(){return r.a.createElement("div",{className:"app-preloader"},r.a.createElement("svg",{width:"100%",height:"200px",viewBox:"500 0 500 500"},r.a.createElement("rect",{x:"0",y:"0",width:"100px",height:"10",fill:"#7E98AE"},r.a.createElement("animate",{attributeName:"x",from:"0",to:"1000",dur:"0.4s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"width",to:"500",dur:"0.3s",repeatCount:"indefinite"}),r.a.createElement("animate",{attributeName:"fill",to:"black",dur:"0.3s",repeatCount:"indefinite"}))))}),ve="",Se="",Oe=r.a.memo((function(e){var t=function(t){for(var a=document.querySelectorAll(".fa"),n=0;n<a.length;n++)a[n]===t.currentTarget?(t.currentTarget.classList.toggle("fa-angle-down"),t.currentTarget.classList.toggle("fa-angle-up")):a[n].classList.contains("fa-angle-up")&&(a[n].classList.remove("fa-angle-up"),a[n].classList.add("fa-angle-down"));ve=t.currentTarget.getAttribute("name"),Se=t.currentTarget.classList.contains("fa-angle-up")?"":"-",e.getStaffThunk(e.currentPage,e.page,ve,Se)},a=Object(n.useCallback)(e.staffs.map((function(t){return r.a.createElement(ge,{code:t.code,full_name:t.full_name,position:t.position,phone:t.phone,email:t.email,setEditorBtn:e.setEditorBtn,setToggleHeight:e.setToggleHeight,getDetailStaffThunk:e.getDetailStaffThunk,deleteStaffThunk:e.deleteStaffThunk,setCurrentPage:e.setCurrentPage,currentPage:e.currentPage,order:ve,sign:Se,page:e.page,count:e.count,isFetching:e.isFetching})})),[e.staffs]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex flex-row-reverse bd-highlight"},r.a.createElement(he.a,null,r.a.createElement(ue.a,{variant:"contained",color:"primary","aria-controls":"example-panel",onClick:function(){e.setDetailStaff({}),e.setToggleHeight(250),e.setEditorBtn(!1)}}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 "))),r.a.createElement("div",{className:"app-staff"},r.a.createElement("table",{class:"table table-striped"},r.a.createElement("thead",{className:"app-staff-table-tr"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"}," \u041a\u043e\u0434",r.a.createElement("i",{class:"fa fa-angle-down",name:"code","aria-hidden":"true",onClick:t})),r.a.createElement("th",{scope:"col",className:"app-staff-table-th"},"\u0424.\u0418.\u041e",r.a.createElement("i",{class:"fa fa-angle-down",name:"full_name","aria-hidden":"true",onClick:t})),r.a.createElement("th",{scope:"col",className:"app-staff-table-th"},"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",r.a.createElement("i",{class:"fa fa-angle-down",name:"position","aria-hidden":"true",onClick:t})),r.a.createElement("th",{scope:"col",className:"app-staff-table-th"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",r.a.createElement("i",{class:"fa fa-angle-down",name:"phone","aria-hidden":"true",onClick:t})),r.a.createElement("th",{scope:"col",className:"app-staff-table-th"},"E-mail",r.a.createElement("i",{class:"fa fa-angle-down",name:"email","aria-hidden":"true",onClick:t})),r.a.createElement("th",{className:"app-staff-table-th"}),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.isFetching?r.a.createElement("tr",null,r.a.createElement("td",{colspan:"7",className:"app-staff-preloader"}," ",r.a.createElement(be,null)," ")):a)),r.a.createElement("div",null,r.a.createElement(ie,{order:ve,sign:Se}))),r.a.createElement(Ee,{order:ve,sign:Se,page:e.page,count:e.count,currentPage:e.currentPage,setCurrentPage:e.setCurrentPage,getStaffThunk:e.getStaffThunk}))}),(function(e,t){return e.staffs===t.staffs&&e.isFetching===t.isFetching})),Te=a(18),Ne=Object(Te.d)(Object(f.b)((function(e){return{currentPage:e.staffPage.currentPage,count:e.staffPage.count,staffs:e.staffPage.staffs,page:e.staffPage.page,isFetching:e.staffPage.isFetching}}),{setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},getStaffThunk:le,setEditorBtn:ne,setToggleHeight:ae,getDetailStaffThunk:function(e){return function(){var t=Object(B.a)(D.a.mark((function t(a){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e);case 2:n=t.sent,a(re(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setDetailStaff:re,deleteStaffThunk:function(e,t,a,n,r){return function(){var c=Object(B.a)(D.a.mark((function c(l){return D.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,J(e);case 2:l(le(t,a,n,r));case 3:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}}))((function(e){return Object(n.useEffect)((function(){e.getStaffThunk(e.currentPage,e.page,"","")}),[]),r.a.createElement(Oe,{currentPage:e.currentPage,count:e.count,staffs:e.staffs,page:e.page,isFetching:e.isFetching,setCurrentPage:e.setCurrentPage,setEditorBtn:e.setEditorBtn,setToggleHeight:e.setToggleHeight,getStaffThunk:e.getStaffThunk,getDetailStaffThunk:e.getDetailStaffThunk,deleteStaffThunk:e.deleteStaffThunk,setDetailStaff:e.setDetailStaff})})),_e=a(392),Ce=a(5),Pe=a(390),ke=a(391),je=a(402),xe=a(175),ye=a(398),we=a(389),Ae=Object(Ce.a)({root:{flexGrow:1,backgroundColor:"inhert"},tabs:{backgroundColor:"#D42D11"},textColors:{color:"#D42D11"},tabses:{padding:20}})((function(e){var t=Object(n.useState)(0),a=Object(se.a)(t,2),c=a[0],l=a[1],o=e.classes;return r.a.createElement(xe.a,{className:o.root,elevation:0},r.a.createElement(ye.a,{value:c,onChange:function(e,t){l(t)},className:o.textColors,centered:!0,classes:{indicator:o.tabs}},r.a.createElement(we.a,{label:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",className:o.tabses})))})),Ie=Object(Ce.a)({root:{flexGrow:1},textLogin:{marginRight:12,fontFamily:"SF UI Display"},name:{fontSize:15,color:"#003360"},role:{fontSize:12,float:"right",color:"#8AA1C1"}})((function(e){if(!e.user)return r.a.createElement("div",null);var t=e.classes;return r.a.createElement("div",null,r.a.createElement(Pe.a,{position:"sticky",color:"white",className:t.root},r.a.createElement(ke.a,{variant:"dense"},r.a.createElement(Ae,null),r.a.createElement("div",{className:t.textLogin},r.a.createElement("span",{className:t.name}," ",e.user.full_name)," ",r.a.createElement("br",null),r.a.createElement("span",{className:t.role}," ",e.user.level," ")),r.a.createElement(je.a,{alt:"Role Role"}))))})),Fe=Object(f.b)((function(e){return{user:e.authPage.user}}),{})((function(e){return r.a.createElement(Ie,{user:e.user})})),Re=function(e){var t=Math.ceil(e.count/e.page),a=[],n=e.currentPage-Math.floor(2.5),c=e.currentPage+Math.floor(2.5);n<1&&(n=1,c=5),c>t&&((n=t-4)<1&&(n=1),c=t);for(var l=n;l<=c;l++)a.push(l);return 0===e.count?r.a.createElement("div",null):r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{class:"pagination justify-content-end"},r.a.createElement("li",{class:"page-item",onClick:function(){e.setCurrentPage(1),e.getRequests(1,e.page)}},r.a.createElement("a",{class:"page-link",href:"#","aria-label":"Previous"},r.a.createElement("span",{"aria-hidden":"true"},"\xab \u041f\u0415\u0420\u0412\u0410\u042f"),r.a.createElement("span",{class:"sr-only"},"Previous"))),a.map((function(t){return r.a.createElement("li",{className:"page-item ".concat(e.currentPage===t&&"active"),onClick:function(){e.setCurrentPage(t),e.getRequests(t,e.page)}},r.a.createElement("a",{class:"page-link",href:"#"},"  ",t," "))})),r.a.createElement("li",{class:"page-item",onClick:function(){e.setCurrentPage(t),e.getRequests(t,e.page)}},r.a.createElement("a",{class:"page-link",href:"#","aria-label":"Next"},r.a.createElement("span",{"aria-hidden":"true"}," \u041f\u041e\u0421\u041b\u0415\u0414\u041d\u042f\u042f \xbb"),r.a.createElement("span",{class:"sr-only"},"Next")))))},Ue=function(e){var t=function(){e.setOpen(!1)};return r.a.createElement("div",null,r.a.createElement(me.a,{open:e.open,onClose:t,"aria-labelledby":"alert-dialog-title"},r.a.createElement(pe.a,{id:"alert-dialog-title"}," ","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u044d\u043b\u0435\u043c\u0435\u043d\u0442?"," "),r.a.createElement(fe.a,null,r.a.createElement(ue.a,{onClick:t,color:"secondary"},"\u041d\u0435\u0442"),r.a.createElement(ue.a,{onClick:function(){e.setOpen(!1),e.handleAccept(!1)},color:"primary"},"\u0414\u0430"))))},Le=function(e){var t=Object(n.useState)(!1),a=Object(se.a)(t,2),c=a[0],l=a[1],o=function(t){e.count>e.page?1===e.count%e.page?(e.setCurrentPage(e.currentPage-1),e.acceptRequest(t,e.code,e.currentPage-1,e.page)):e.acceptRequest(t,e.code,e.currentPage,e.page):e.acceptRequest(t,e.code,e.currentPage,e.page)},i=function(e){b.a.configure(),e?(o(!0),b.a.success("\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d",{position:"bottom-center"})):l(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,e.code),r.a.createElement("td",null,e.full_name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.phone),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null," ",r.a.createElement("i",{class:"fa fa-check mr-5","aria-hidden":"true",onClick:function(){return i(!0)}}),r.a.createElement("i",{class:"fa fa-times","aria-hidden":"true",onClick:function(){return i(!1)}}))),c&&r.a.createElement(Ue,{open:c,setOpen:l,handleAccept:o}))},qe=(a(344),function(e){console.log("RENDER REQUEST");var t=Object(n.useCallback)(e.requests.map((function(t){return r.a.createElement(Le,{code:t.code,email:t.email,full_name:t.full_name,phone:t.phone,acceptRequest:e.acceptRequest,setCurrentPage:e.setCurrentPage,count:e.count,page:e.page,currentPage:e.currentPage})})),[e.requests]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app-request"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"}," \u041a\u043e\u0434 "),r.a.createElement("th",{scope:"col",className:"app-request-table-th"}," \u0424.\u0418.\u041e  "),r.a.createElement("th",{scope:"col",className:"app-request-table-th"}," E-mail "),r.a.createElement("th",{scope:"col",className:"app-request-table-th"}," \u0422\u0435\u043b\u0435\u0444\u043e\u043d "),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",{className:"app-request-table-th"}," \xa0 "))),r.a.createElement("tbody",null,e.isFetching?r.a.createElement("tr",null,r.a.createElement("td",{colspan:"7",className:"app-staff-preloader"}," ",r.a.createElement(be,null)," ")):t))),r.a.createElement(Re,{currentPage:e.currentPage,count:e.count,page:e.page,setCurrentPage:e.setCurrentPage,getRequests:e.getRequests}))}),De={currentPage:1,count:0,page:8,requests:[],isFetching:!1},Be=function(e){return{type:"SET_REQUESTS_IS_FETCHING",isFetching:e}},He=function(e,t){return function(){var a=Object(B.a)(D.a.mark((function a(n){var r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Be(!0)),a.next=3,K(e,t);case 3:r=a.sent,n({type:"SET_REQUESTS",requests:r.results}),n({type:"SET_REQUEST_COUNT",count:r.count}),n(Be(!1));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REQUEST_CURRENT_PAGE":return Object(H.a)(Object(H.a)({},e),{},{currentPage:t.currentPage});case"SET_REQUESTS":return Object(H.a)(Object(H.a)({},e),{},{requests:t.requests});case"SET_REQUEST_COUNT":return Object(H.a)(Object(H.a)({},e),{},{count:t.count});case"SET_REQUESTS_IS_FETCHING":return Object(H.a)(Object(H.a)({},e),{},{isFetching:t.isFetching});default:return e}},ze=Object(f.b)((function(e){return{currentPage:e.requestPage.currentPage,count:e.requestPage.count,page:e.requestPage.page,isFetching:e.requestPage.isFetching,requests:e.requestPage.requests}}),{setCurrentPage:function(e){return{type:"SET_REQUEST_CURRENT_PAGE",currentPage:e}},getRequests:He,acceptRequest:function(e,t,a,n){return function(){var r=Object(B.a)(D.a.mark((function r(c){var l;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,X(e,t);case 2:l=r.sent,console.log(l),c(He(a,n));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return Object(n.useEffect)((function(){e.getRequests(e.currentPage,e.page)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,{currentPage:e.currentPage,count:e.count,page:e.page,isFetching:e.isFetching,requests:e.requests,acceptRequest:e.acceptRequest,setCurrentPage:e.setCurrentPage,getRequests:e.getRequests}))})),We=a(21),Ve=(a(345),Object(_e.a)((function(e){return{navlink:{marginLeft:7,marginRight:7,fontFamily:"SFUIDisplay",fontSize:"11px",color:"#8AA1C1"},links:{margin:15},span:{color:"#8AA1C1"},bottom_admin:{marginTop:20,marginLeft:15,width:"100%"},admin_text:{marginLeft:20,lineHeight:"28px",fontFamily:"SFUIDisplay",fontSize:"24px",color:"#003360"}}}))),Je=function(){var e=Ve();return r.a.createElement("div",{className:e.links},r.a.createElement("div",{className:e.bottom_admin},r.a.createElement(he.a,{display:"flex"},r.a.createElement(he.a,{flexGrow:1},r.a.createElement("span",null,r.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"32",height:"32",rx:"4",fill:"#D42D11"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.008 20H21.3333C21.702 20 22 19.7014 22 19.3334V10.6667C22 9.93137 21.402 9.33337 20.6667 9.33337H12C11.196 9.33337 10 9.86604 10 11.3334V13.3334V17.3334V19.3334V20.6667C10 22.134 11.196 22.6667 12 22.6667H22V21.3334H12.008C11.7 21.3254 11.3333 21.2034 11.3333 20.6667C11.3333 20.13 11.7 20.008 12.008 20ZM11.3333 13.3334V11.3334C11.3333 10.7967 11.7 10.6747 12 10.6667H20.6667V18.6667H11.3333V17.3334V13.3334ZM19.3333 12H13.3333V13.3334H19.3333V12Z",fill:"white"}))),r.a.createElement("span",{className:e.admin_text},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))),r.a.createElement("div",{className:"mt-3 ml-3 w-100  bottom-nav"},r.a.createElement("ul",{className:"nav nav-pills"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(We.b,{className:"nav-link",to:"/staffs"},"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438")),r.a.createElement("li",{className:"nav-item ml-3"},r.a.createElement(We.b,{className:"nav-link ",to:"/request"}," \u0417\u0430\u043f\u0440\u043e\u0441\u044b ")),r.a.createElement("li",{className:"nav-item ml-3"},r.a.createElement(We.b,{className:"nav-link",to:"/filial"},"\u0424\u0438\u043b\u0438\u0430\u043b\u044b")),r.a.createElement("li",{className:"nav-item ml-3"},r.a.createElement(We.b,{className:"nav-link",to:"/card"},"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430")))))},Me=Object(_e.a)((function(e){return{sidebar:{background:"#F5F7FA",height:"91vh",maxWidth:"80px"}}})),Qe=Object(Te.d)((function(e){return Object(f.b)((function(e){return{isAuth:e.authPage.isAuth}}))((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(m.a,{to:"/login"})}))}),Object(f.b)(null,{}))((function(e){var t=Me();return r.a.createElement(p.a,{container:!0,spacing:0},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(Fe,null)),r.a.createElement(p.a,{item:!0,xs:3,sm:1,className:t.sidebar}),r.a.createElement(p.a,{item:!0,xs:9,sm:11},r.a.createElement(Je,null),r.a.createElement(m.b,{path:"/staffs",render:function(){return r.a.createElement(Ne,null)}}),r.a.createElement(m.b,{path:"/request",render:function(){return r.a.createElement(ze,null)}})))})),Ze={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuth:null,user:{},isOpen:!1},Ye=function(e){return{type:"DIALOG_IS_OPEN",isOpen:e}},$e=function(){return function(){var e=Object(B.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=6;break}return e.next=3,$();case 3:t({type:"AUTHENTICATED_SUCCESS"}),e.next=7;break;case 6:console.log("BUL JER EMES");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ke=function(){return function(){var e=Object(B.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=13;break}return e.prev=1,e.next=4,Y();case 4:a=e.sent,t({type:"LOAD_USER_SUCCESS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"LOAD_USER_FAIL"});case 11:e.next=14;break;case 13:t({type:"LOAD_USER_FAIL"});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"AUTHENTICATED_SUCCESS":return Object(H.a)(Object(H.a)({},e),{},{isAuth:!0});case"LOGIN_SUCCESS":return localStorage.setItem("refresh",n.refresh),localStorage.setItem("access",n.access),Object(H.a)(Object(H.a)({},e),{},{isAuth:!0,access:n.access,refresh:n.refresh});case"SIGN_UP_SUCCESS":return Object(H.a)(Object(H.a)({},e),{},{isAuth:!1});case"LOAD_USER_SUCCESS":return Object(H.a)(Object(H.a)({},e),{},{user:n});case"LOAD_USER_FAIL":return Object(H.a)(Object(H.a)({},e),{},{user:null});case"AUTHENTICATED_FAIL":return Object(H.a)(Object(H.a)({},e),{},{isAuth:!1});case"DIALOG_IS_OPEN":return Object(H.a)(Object(H.a)({},e),{},{isOpen:t.isOpen});case"SIGN_UP_FAIL":case"LOGOUT":case"LOGIN_FAIL":return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(H.a)(Object(H.a)({},e),{},{access:null,refresh:null,isAuth:!1,user:null});default:return e}},et=a(25),tt=a.n(et),at=a(394),nt=a(395),rt=a(176),ct=Object(_e.a)((function(e){return{card:{overflow:"visible"},session:{position:"relative",zIndex:4e3,minHeight:"100vh",display:"flex",flexDirection:"column"},background:{backgroundColor:e.palette.primary.main},content:{padding:"40px ".concat(e.spacing(1),"px"),display:"flex",alignItems:"center",justifyContent:"center",flex:"1 0 auto",flexDirection:"column",minHeight:"100%",textAlign:"center"},wrapper:{flex:"none",maxWidth:"400px",width:"100%",margin:"0 auto"},logo:{display:"flex",flexDirection:"column"},fullWidth:{width:"100%"},buttonText:{fontSize:12},errorMessage:{color:"red",border:"1px solid red",marginTop:"2%",padding:"2%"}}})),lt=N(40),ot=Object(h.a)({form:"signin"})((function(e){var t=ct();return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:tt()(t.logo,"text-xs-center pb-xs")},r.a.createElement(rt.a,{variant:"h6"},"CLAY GROUP"),r.a.createElement(rt.a,{variant:"caption"},"Sign in with your app id to continue."),e.error&&r.a.createElement(rt.a,{variant:"caption",className:t.errorMessage},e.error)),r.a.createElement(E.a,{name:"email",label:"Email",component:A,validate:[O,lt]}),r.a.createElement(E.a,{name:"password",label:"Password",component:I,validate:[v,lt]}),r.a.createElement(E.a,{name:"rememberMe",label:"Remember me",component:F}),r.a.createElement(ue.a,{variant:"contained",color:"primary",fullWidth:!0,type:"submit"},"Login"),r.a.createElement("div",{className:"pt-3 d-flex justify-content-center"},r.a.createElement(We.b,{to:"/forgot",className:"mr-5"},r.a.createElement(rt.a,null,"Forgot password?")),r.a.createElement("div",null," "),r.a.createElement(We.b,{to:"/register"},r.a.createElement(rt.a,null,"Create new account. "))))})),it=function(e){var t=ct();return e.isAuth?r.a.createElement(m.a,{to:"/staffs"}):r.a.createElement("div",{className:tt()(t.session,t.background)},r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.wrapper},r.a.createElement(at.a,null,r.a.createElement(nt.a,null,r.a.createElement(ot,{onSubmit:function(t){e.login(t.email,t.password)}}))))))},st=Object(f.b)((function(e){return{isAuth:e.authPage.isAuth}}),{login:function(e,t){return function(){var a=Object(B.a)(D.a.mark((function a(n){var r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Z(e,t);case 3:r=a.sent,n({type:"LOGIN_SUCCESS",payload:r}),n(Ke()),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),n(Object(ee.b)("signin",{_error:"wrong password or email"})),n({type:"LOGIN_FAIL"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return r.a.createElement(it,{login:e.login,isAuth:e.isAuth})})),ut=function(){var e=ct();return r.a.createElement("div",{className:tt()(e.session,e.background)},r.a.createElement("div",{className:e.content},r.a.createElement("div",{className:e.wrapper},r.a.createElement(at.a,null,r.a.createElement(nt.a,null,r.a.createElement("form",null,r.a.createElement("div",{className:tt()(e.logo,"text-xs-center pb-xs")},r.a.createElement(rt.a,{variant:"h6"},"CLAY GROUP"),r.a.createElement(rt.a,{variant:"caption"},"Enter your email and we'll send you instructions on how to reset your password.")),r.a.createElement(k.a,{id:"email",label:"Email address",className:e.textField,fullWidth:!0,margin:"normal"}),r.a.createElement(ue.a,{variant:"contained",color:"primary",fullWidth:!0,className:"mt-1"},"Send password reset"),r.a.createElement("div",{className:"pt-3 d-flex justify-content-center"},r.a.createElement(We.b,{to:"/login",className:"mr-5"},r.a.createElement(rt.a,null,"Sign")),r.a.createElement(We.b,{to:"/register",className:"ml-5"},r.a.createElement(rt.a,null,"Create new account.")))))))))},mt=Object(f.b)(null,{chackAuth:$e,load_user:Ke})((function(e){return Object(n.useEffect)((function(){(function(){var t=Object(B.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.load_user();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}})()()}),[]),r.a.createElement(r.a.Fragment,null,e.children)})),ft={initialized:!1},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCESS":return Object(H.a)(Object(H.a)({},e),{},{initialized:!0});default:return e}},gt=N(40),dt=Object(h.a)({form:"signup"})((function(e){var t=ct();return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:tt()(t.logo,"text-xs-center pb-xs")},r.a.createElement(rt.a,{variant:"h6"},"CLAY GROUP"),r.a.createElement(rt.a,{variant:"caption"},"Create an app id to continue."),e.error&&r.a.createElement(rt.a,{variant:"caption",className:t.errorMessage},e.error)),r.a.createElement(E.a,{name:"email",label:"Email",component:A,validate:[O,gt]}),r.a.createElement(E.a,{name:"full_name",label:"Username",component:A,validate:[v,gt]}),r.a.createElement(E.a,{name:"phone",label:"Phone",component:A,validate:[T,v]}),r.a.createElement(E.a,{name:"password",label:"Password",component:I,validate:[v,gt]}),r.a.createElement(E.a,{name:"re_password",label:"Confirm Password",component:I,validate:[v,gt]}),r.a.createElement(ue.a,{className:"mt-3",variant:"contained",color:"primary",type:"submit",fullWidth:!0},"Create your account"),r.a.createElement("div",{className:"pt-3 d-flex justify-content-center"},r.a.createElement(We.b,{to:"/forgot",className:"pr-5"},r.a.createElement(rt.a,null,"Forgot password?")),r.a.createElement(We.b,{to:"/login"},r.a.createElement(rt.a,null,"Access your account."))))})),Et=function(e){var t=ct();return r.a.createElement("div",{className:tt()(t.logo,"text-xs-center pb-xs")},r.a.createElement(rt.a,{variant:"h6"},"CLAY GROUP"),r.a.createElement(rt.a,{variant:"body1"},"Sen success register jasadin jane almaz mal ekenin bildin, Eger almaz mal dep iwinnen 3 ret aitsan super admin seni kabildaidi"),r.a.createElement(rt.a,{variant:"body1"},r.a.createElement(We.b,{to:"/login",onClick:function(){e.setIsOpen(!1)}}," Login page ")))},ht=function(e){var t=ct();if(console.log(e.isOpen),e.isAuth)return r.a.createElement(m.a,{to:"/"});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:tt()(t.session,t.background)},r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.wrapper},r.a.createElement(at.a,null,r.a.createElement(nt.a,null,e.isOpen?r.a.createElement(Et,{setIsOpen:e.setIsOpen}):r.a.createElement(dt,{onSubmit:function(t){e.signup(t.email,t.full_name,t.phone,t.password,t.re_password)}})))))))},bt=Object(f.b)((function(e){return{isAuth:e.authPage.isAuth,isOpen:e.authPage.isOpen}}),{signup:function(e,t,a,n,r){return function(){var c=Object(B.a)(D.a.mark((function c(l){var o,i,s;return D.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n!==r){c.next=18;break}return c.prev=1,o={headers:{"Content-Type":"application/json"}},i=JSON.stringify({email:e,full_name:t,phone:a,password:n,re_password:r}),c.next=6,G.post("https://dashboard-i-con.herokuapp.com/api/auth/users/",i,o);case 6:s=c.sent,console.log(s),l({type:"SIGN_UP_SUCCESS"}),l(Ye(!0)),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(1),l({type:"SIGN_UP_FAIL"}),l(Object(ee.b)("signup",{_error:"phone and email unique"}));case 16:c.next=19;break;case 18:l(Object(ee.b)("signup",{re_password:"pass1 and pass2 ten emes"}));case 19:case"end":return c.stop()}}),c,null,[[1,12]])})));return function(e){return c.apply(this,arguments)}}()},setIsOpen:Ye})((function(e){return r.a.createElement(ht,{isAuth:e.isAuth,signup:e.signup,isOpen:e.isOpen,setIsOpen:e.setIsOpen})})),vt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.initalizeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement(mt,null,r.a.createElement(m.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(st,null)}}),r.a.createElement(m.b,{exact:!0,path:"/register",render:function(){return r.a.createElement(bt,null)}}),r.a.createElement(m.b,{exact:!0,path:"/forgot",render:function(){return r.a.createElement(ut,null)}}),r.a.createElement(Qe,null)):r.a.createElement("div",null," ")}}]),a}(r.a.Component),St=Object(f.b)((function(e){return{initialized:e.appPage.initialized}}),{initalizeApp:function(){return function(e){var t=e($e());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCESS"})}))}}})(vt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ot=a(170),Tt=a(161),Nt=Object(Te.c)({staffPage:oe,authPage:Xe,appPage:pt,requestPage:Ge,form:Tt.a}),_t=Object(Te.e)(Nt,Object(Te.a)(Ot.a));window.store=_t;var Ct=_t;l.a.render(r.a.createElement(We.a,{basename:"/react-admin"},r.a.createElement(f.a,{store:Ct},r.a.createElement(St,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){e.exports={metaError:"FormControl_metaError__2_lLJ",loginError:"FormControl_loginError__2ORsI",formControl:"FormControl_formControl__2Iy_N",error:"FormControl_error__29jeT",fullWidth:"FormControl_fullWidth__1MfBR"}}},[[217,1,2]]]);
//# sourceMappingURL=main.6a129896.chunk.js.map